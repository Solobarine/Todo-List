(()=>{"use strict";const e=[],t=document.querySelector(".task-name"),n=document.querySelector("#addBtn"),s=document.querySelector(".clear-button"),a=document.querySelector(".show-tasks"),l=()=>{a.innerHTML="";for(let t=0;t<e.length;t+=1)a.innerHTML+=`<div class="shell">\n                                     <input type="checkbox" class="checkbox"/>\n                                     <p class="task-item">${e[t].a}</p>\n                                     <button class="remBtn" type="button">Remove</button>\n                                     </div>`},c=()=>{for(let t=0;t<e.length;t+=1)e[t].c=t},r=localStorage.getItem("listOfTasks");r&&e.push(...JSON.parse(r)),l(),n.addEventListener("click",(()=>{const n=t.value,s=e.length;var l;((t,n,s)=>{const a={a:t,b:!1,c:s};e.push(a)})(n,0,s),l=s,a.innerHTML+=`<div class="shell">\n                                     <input type="checkbox" class="checkbox"/>\n                                     <p class="task-item">${e[l].a}</p>\n                                     <button class="remBtn" type="button">Remove</button>\n                                     </div>`,localStorage.setItem("listOfTasks",JSON.stringify(e))}));for(let t=0;t<e.length;t++)!0===e[t].b?(a.children[t].children[0].checked=!0,a.children[t].classList.add("change-color"),a.children[t].children[1].style.textDecoration="line-through"):a.children[t].classList.remove("change-color");a.addEventListener("click",(t=>{if(t.target.classList.contains("checkbox")){const n=t.target.parentElement,s=t.target.parentElement.children[0],l=e.findIndex((e=>e.a===n.querySelector(".task-item").innerText));e[l].b=s.checked,!0===s.checked?(a.children[l].children[1].style.textDecoration="line-through",n.classList.add("change-color")):(a.children[l].children[1].style.textDecoration="none",n.classList.remove("change-color")),localStorage.setItem("listOfTasks",JSON.stringify(e)),console.log(e)}})),a.addEventListener("click",(t=>{if(t.target.classList.contains("remBtn")){const s=t.target.parentElement;n=e.findIndex((e=>e.a===s.querySelector(".task-item").innerText)),e.splice(n,1),a.removeChild(s),c(),localStorage.setItem("listOfTasks",JSON.stringify(e))}var n})),a.addEventListener("click",(t=>{if(t.target.classList.contains("task-item")){const n=t.target.parentElement,s=t.target.parentElement.children[1],a=document.createElement("input"),l=e.findIndex((e=>e.a===n.querySelector(".task-item").innerText));a.className="repInput",a.setAttribute("type","text"),n.replaceChild(a,s),a.addEventListener("keypress",(t=>{if("Enter"===t.key){const t=a.value;e[l].a=t,n.replaceChild(s,a),s.textContent=t,localStorage.setItem("listOfTasks",JSON.stringify(e))}localStorage.setItem("listOfTasks",JSON.stringify(e))}))}})),a.addEventListener("click",(t=>{if(t.target.classList.contains("task-item")){const n=t.target.parentElement,s=t.target.parentElement.children[1],a=document.createElement("input"),l=e.findIndex((e=>e.a===n.querySelector(".task-item").innerText));a.className="repInput",a.setAttribute("type","text"),n.replaceChild(a,s),a.addEventListener("keypress",(t=>{if("Enter"===t.key){const t=a.value;e[l].a=t,n.replaceChild(s,a),s.textContent=t,localStorage.setItem("listOfTasks",JSON.stringify(e))}localStorage.setItem("listOfTasks",JSON.stringify(e))}))}})),s.addEventListener("click",(()=>{(()=>{for(let t=0;t<e.length;t+=1)!0===e[t].b&&(e.splice(t,1),localStorage.setItem("listOfTasks",JSON.stringify(e)))})(),l(),c()}))})();